<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>

<body>
    <%- include('nav.ejs')%>
    <div >
        <form action="/countstudentshow" method="post">
            <center><div class="form-group" style="margin-top: 20px;">
                
                <select name="cid" id="course" style="height: 40px; width: 500px">
                    <option value="">Select course...</option>
                    <%  countdata.forEach((item) => { 
                        %>
                      <option value="<%= item.cid %>"><%= item.cname %></option>
                    
                    <%
                    });
                    %>           
                </select>
            </div>
            <br>
                        <button type="submit">View Student Count</button>
        </center>
        </form>

        <table class="table table-striped" style="background-color: white; margin-top: 20px; width: 80%; margin: auto;">
            <thead>
                <tr>
                    <td>Course Name</td>
                    <td>Sutdent Count</td>
                </tr>

            </thead>
            <tbody>
                <%
                if(data.length==0){
                    %>
                    <tr style="text-align: center;"><td colspan="4"> There is no data present in database</td></tr>
                    <%
                }
                else
                {
                data.forEach((item,index)=>{
                    %>
                    <tr>
                        <td><%= item.cname %></td>
                        <td><%= item.count %></td>
                    </tr>
                    <%
                })
            }
                %>

            </tbody>
        </table>
    </div>
    
</body>
</html>