<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
    <%- include('nav.ejs')%>
    <div class="hii mt-5">
        <form action="/studlist" method="post">
            <center><div class="form-group" style="margin-top: 20px;">
                
                <select name="cname" id="course" style="height: 40px; width: 500px">
                    <option value="">Select course...</option>
                    <%  data.forEach((item) => { 
                        %>
                      <option value="<%= item.cname %>"><%= item.cname %></option>
                    
                    <%
                    });
                    %>           
                </select>
            </div>
            <br>
                        <button type="submit">View Students</button>
        </center>
        </form>
        <div style="width: 80%; margin: auto;">
            <table class="table table-striped" style="background-color: white; margin-top: 20px;">
                <thead>
                    <tr>
                        <th>Sr no</th>
                        <th>Student name</th>
                        <th>Email</th>
                        <th>Contact</th>
                    </tr>
                </thead>
                <tbody>
                    <%
                    if(studentdata.length==0){
                        %>
                        <tr style="text-align: center;"><td colspan="4"> There is no data present in database</td></tr>
                        <%
                    }
                    else
                    {
                    studentdata.forEach((item,index)=>{
                        %>
                        <tr>
                            <td><%= (index+1) %></td>
                            <td><%= item.name %></td>
                            <td><%= item.email %></td>
                            <td><%= item.contact %></td>
                        </tr>
                        <%
                    })
                }
                      %>
                </tbody>
            </table>
        </div>
    </div>
    
</body>
</html>